<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Peraturan Ketenaganukliran â€“ BAPETEN</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display:ital@0;1&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet"/>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --navy:#0b2545;--navy2:#163466;--teal:#0e7490;--teal-light:#22d3ee;
  --cream:#f8f6f1;--paper:#ffffff;--border:#e4e0d8;--text:#1a1a2e;
  --muted:#64748b;--green:#059669;--amber:#d97706;
}
html{scroll-behavior:smooth}
body{font-family:'DM Sans',sans-serif;background:var(--cream);color:var(--text);min-height:100vh;}
header{background:linear-gradient(135deg,var(--navy) 0%,var(--navy2) 60%,#1e4080 100%);position:relative;overflow:hidden;}
header::before{content:'';position:absolute;inset:0;background:url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.03'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");pointer-events:none;}
.header-inner{max-width:1140px;margin:0 auto;padding:40px 24px 32px;display:flex;align-items:center;gap:20px;position:relative;z-index:1;}
.atom-icon{width:64px;height:64px;flex-shrink:0;}
.header-text h1{font-family:'DM Serif Display',serif;font-size:2.1rem;color:#fff;line-height:1.1;}
.header-text h1 em{font-style:italic;color:var(--teal-light);}
.header-text p{color:rgba(255,255,255,.55);font-size:.82rem;margin-top:6px;font-weight:300;}
.header-stats{margin-left:auto;flex-shrink:0;display:flex;gap:20px;}
.hstat{text-align:right;}
.hstat-num{font-family:'DM Serif Display',serif;font-size:1.8rem;color:var(--teal-light);line-height:1;}
.hstat-label{font-size:.7rem;color:rgba(255,255,255,.5);text-transform:uppercase;letter-spacing:.8px;margin-top:2px;}
.tabs-wrap{background:var(--navy);border-bottom:1px solid rgba(255,255,255,.08);position:sticky;top:0;z-index:100;}
.tabs{max-width:1140px;margin:0 auto;padding:0 24px;display:flex;overflow-x:auto;scrollbar-width:none;}
.tabs::-webkit-scrollbar{display:none}
.tab{padding:14px 20px;font-size:.78rem;font-weight:500;letter-spacing:.4px;color:rgba(255,255,255,.5);cursor:pointer;white-space:nowrap;border-bottom:3px solid transparent;transition:all .2s;text-transform:uppercase;}
.tab:hover{color:rgba(255,255,255,.8)}
.tab.active{color:#fff;border-bottom-color:var(--teal-light);}
main{max-width:1140px;margin:0 auto;padding:28px 24px 80px;}
.search-wrap{position:relative;margin-bottom:24px;}
.search-wrap input{width:100%;padding:15px 20px 15px 50px;border:2px solid var(--border);border-radius:12px;background:var(--paper);font-family:'DM Sans',sans-serif;font-size:.95rem;color:var(--text);outline:none;transition:border-color .2s,box-shadow .2s;}
.search-wrap input:focus{border-color:var(--teal);box-shadow:0 0 0 4px rgba(14,116,144,.1);}
.search-wrap input::placeholder{color:var(--muted);font-style:italic}
.s-icon{position:absolute;left:16px;top:50%;transform:translateY(-50%);color:var(--muted);pointer-events:none;}
.s-badge{position:absolute;right:16px;top:50%;transform:translateY(-50%);background:var(--navy2);color:#fff;font-size:.7rem;font-weight:600;padding:3px 9px;border-radius:20px;display:none;}
.section{background:var(--paper);border:1px solid var(--border);border-radius:14px;margin-bottom:10px;overflow:hidden;box-shadow:0 1px 3px rgba(0,0,0,.04);}
.sec-head{display:flex;align-items:center;gap:12px;padding:16px 20px;cursor:pointer;transition:background .15s;user-select:none;}
.sec-head:hover{background:#f9f8f6}
.sec-stripe{width:4px;height:36px;border-radius:4px;flex-shrink:0;}
.sec-title{font-family:'DM Serif Display',serif;font-size:1rem;color:var(--navy);flex:1;line-height:1.3;}
.sec-count{background:var(--navy);color:#fff;font-size:.68rem;font-weight:600;padding:3px 10px;border-radius:20px;flex-shrink:0;}
.sec-chevron{color:var(--muted);transition:transform .25s;flex-shrink:0;}
.section.open .sec-chevron{transform:rotate(180deg)}
.sec-body{display:none;border-top:1px solid var(--border);}
.section.open .sec-body{display:block}
.item-list{padding:4px 0}
.item{display:flex;align-items:flex-start;gap:12px;padding:10px 20px 10px 28px;border-bottom:1px solid #f3f0eb;transition:background .1s;}
.item:last-child{border-bottom:none}
.item:hover{background:#fafaf8}
.item-num{flex-shrink:0;font-size:.7rem;color:#bbb;min-width:20px;padding-top:3px;font-style:italic;}
.item-content{flex:1;min-width:0}
.item-link{color:var(--teal);text-decoration:none;font-size:.88rem;line-height:1.55;display:block;transition:color .15s;}
.item-link:hover{color:var(--navy);text-decoration:underline}
.item-link::before{content:'ðŸ“„ ';font-size:.75rem;}
mark{background:#fef08a;color:inherit;border-radius:2px;padding:0 1px}
.empty{display:none;text-align:center;padding:64px 24px;color:var(--muted);}
.empty p{font-style:italic;font-size:.9rem}
.stripe-uu{background:#3b82f6}.stripe-pp{background:#8b5cf6}.stripe-perpres{background:#06b6d4}
.stripe-perka{background:var(--green)}.stripe-kepka{background:var(--amber)}.stripe-se{background:#dc2626}
.stripe-panduan{background:#ec4899}
.guide{background:linear-gradient(135deg,#f0f9ff,#e0f2fe);border:1px solid #bae6fd;border-radius:12px;padding:16px 20px;margin-bottom:24px;display:flex;gap:12px;}
.guide-icon{font-size:1.4rem;flex-shrink:0}
.guide-text{font-size:.82rem;color:#0c4a6e;line-height:1.6}
.guide-text strong{font-weight:600}
footer{background:var(--navy);color:rgba(255,255,255,.4);text-align:center;padding:20px 24px;font-size:.75rem;}
footer a{color:rgba(255,255,255,.6);text-decoration:none}
@media(max-width:640px){.header-stats{display:none}.header-text h1{font-size:1.5rem}.atom-icon{width:48px;height:48px}}
</style>
</head>
<body>
<header>
  <div class="header-inner">
    <svg class="atom-icon" viewBox="0 0 64 64" fill="none">
      <ellipse cx="32" cy="32" rx="30" ry="12" stroke="rgba(255,255,255,0.3)" stroke-width="1.5"/>
      <ellipse cx="32" cy="32" rx="30" ry="12" stroke="rgba(255,255,255,0.3)" stroke-width="1.5" transform="rotate(60 32 32)"/>
      <ellipse cx="32" cy="32" rx="30" ry="12" stroke="rgba(255,255,255,0.3)" stroke-width="1.5" transform="rotate(120 32 32)"/>
      <circle cx="32" cy="32" r="5" fill="#22d3ee"/>
    </svg>
    <div class="header-text">
      <h1>Peraturan <em>Ketenaganukliran</em></h1>
      <p>Badan Pengawas Tenaga Nuklir Â· BAPETEN Â· Versi 3.0</p>
    </div>
    <div class="header-stats">
      <div class="hstat"><div class="hstat-num" id="hTotal">â€”</div><div class="hstat-label">Dokumen</div></div>
      <div class="hstat"><div class="hstat-num">7</div><div class="hstat-label">Kategori</div></div>
    </div>
  </div>
</header>

<div class="tabs-wrap">
  <div class="tabs" id="tabs">
    <div class="tab active" data-f="all">Semua</div>
    <div class="tab" data-f="uu">UU</div>
    <div class="tab" data-f="pp">PP</div>
    <div class="tab" data-f="perpres">Perpres / Keppres</div>
    <div class="tab" data-f="perka">Peraturan BAPETEN</div>
    <div class="tab" data-f="kepka">Kepka BAPETEN</div>
    <div class="tab" data-f="se">Surat Edaran</div>
    <div class="tab" data-f="panduan">Panduan & IK</div>
  </div>
</div>

<main>
  <div class="guide">
    <div class="guide-icon">ðŸ’¡</div>
    <div class="guide-text"><strong>Cara penggunaan:</strong> Gunakan kotak pencarian untuk menemukan peraturan. Klik judul untuk membuka PDF. Gunakan tab untuk menyaring berdasarkan jenis dokumen.</div>
  </div>
  <div class="search-wrap">
    <svg class="s-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.2"><circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/></svg>
    <input type="text" id="q" placeholder="Cari nomor peraturan, tahun, atau topikâ€¦"/>
    <span class="s-badge" id="sBadge"></span>
  </div>
  <div id="container"></div>
  <div class="empty" id="empty"><p>Tidak ada peraturan yang cocok.</p></div>
</main>

<footer>
  <a href="https://github.com/krumboko/peraturan-ketenaganukliran" target="_blank">github.com/krumboko/peraturan-ketenaganukliran</a> Â· BAPETEN Â© 2024
</footer>

<!-- Data peraturan dimuat dari data.js -->
<script src="data.js"></script>

<script>
const BASE = 'dokumen/';
const STRIPE = {uu:'stripe-uu',pp:'stripe-pp',perpres:'stripe-perpres',perka:'stripe-perka',kepka:'stripe-kepka',se:'stripe-se',panduan:'stripe-panduan'};

let activeFilter = 'all', query = '';
function esc(s){return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;')}
function hi(t,q){if(!q)return esc(t);const re=new RegExp(q.replace(/[.*+?^${}()|[\]\\]/g,'\\$&'),'gi');return esc(t).replace(re,m=>`<mark>${m}</mark>`)}

function render(){
  const q2=query.toLowerCase();
  let html='',total=0;
  SECTIONS.forEach(sec=>{
    if(activeFilter!=='all'&&sec.cat!==activeFilter)return;
    const items=sec.items.filter(it=>!q2||it.t.toLowerCase().includes(q2));
    if(!items.length)return;
    total+=items.length;
    const stripe=STRIPE[sec.cat]||'stripe-uu';
    const open=q2?true:(sec._open!==false);
    html+=`<div class="section${open?' open':''}" id="SEC${sec.id}">
      <div class="sec-head" onclick="toggle('${sec.id}')">
        <div class="sec-stripe ${stripe}"></div>
        <div class="sec-title">${esc(sec.title)}</div>
        <div class="sec-count">${items.length}</div>
        <svg class="sec-chevron" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><polyline points="6 9 12 15 18 9"/></svg>
      </div>
      <div class="sec-body"><div class="item-list">`;
    items.forEach((it,i)=>{
      html+=`<div class="item"><span class="item-num">${i+1}</span><div class="item-content"><a class="item-link" href="${BASE+encodeURIComponent(it.f)}" target="_blank">${hi(it.t,query)}</a></div></div>`;
    });
    html+=`</div></div></div>`;
  });
  document.getElementById('container').innerHTML=html;
  document.getElementById('empty').style.display=total===0?'block':'none';
  const badge=document.getElementById('sBadge');
  if(q2){badge.textContent=total+' hasil';badge.style.display='block';}else{badge.style.display='none';}
  document.getElementById('hTotal').textContent=SECTIONS.reduce((a,s)=>a+s.items.length,0);
}

function toggle(id){
  const el=document.getElementById('SEC'+id);if(!el)return;
  const open=el.classList.toggle('open');
  const sec=SECTIONS.find(s=>s.id===id);if(sec)sec._open=open;
}

document.getElementById('tabs').addEventListener('click',e=>{
  const tab=e.target.closest('.tab');if(!tab)return;
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
  tab.classList.add('active');activeFilter=tab.dataset.f;render();
});
document.getElementById('q').addEventListener('input',e=>{query=e.target.value.trim();render();});
render();
</script>
</body>
</html>
